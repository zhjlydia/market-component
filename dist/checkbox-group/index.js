import { SpuiComponent } from '../common/component';
SpuiComponent({
  field: true,
  relation: {
    name: 'checkbox',
    type: 'descendant',

    linked(target) {
      const {
        value,
        disabled
      } = this.data;
      target.set({
        value: value.indexOf(target.data.name) !== -1,
        disabled: disabled || target.data.disabled
      });
    }

  },
  props: {
    max: Number,
    value: Array,
    disabled: Boolean
  },
  watch: {
    value(value) {
      const children = this.getRelationNodes('../checkbox/index');
      children.forEach(child => {
        child.set({
          value: value.indexOf(child.data.name) !== -1
        });
      });
    },

    disabled(disabled) {
      const children = this.getRelationNodes('../checkbox/index');
      children.forEach(child => {
        child.set({
          disabled: disabled || child.data.disabled
        });
      });
    }

  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoZWNrYm94LWdyb3VwL2luZGV4LnRzIl0sIm5hbWVzIjpbIlNwdWlDb21wb25lbnQiLCJmaWVsZCIsInJlbGF0aW9uIiwibmFtZSIsInR5cGUiLCJsaW5rZWQiLCJ0YXJnZXQiLCJ2YWx1ZSIsImRpc2FibGVkIiwiZGF0YSIsInNldCIsImluZGV4T2YiLCJwcm9wcyIsIm1heCIsIk51bWJlciIsIkFycmF5IiwiQm9vbGVhbiIsIndhdGNoIiwiY2hpbGRyZW4iLCJnZXRSZWxhdGlvbk5vZGVzIiwiZm9yRWFjaCIsImNoaWxkIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxhQUFULFFBQThCLHFCQUE5QjtBQUVBQSxhQUFhLENBQUM7QUFDWkMsRUFBQUEsS0FBSyxFQUFFLElBREs7QUFHWkMsRUFBQUEsUUFBUSxFQUFFO0FBQ1JDLElBQUFBLElBQUksRUFBRSxVQURFO0FBRVJDLElBQUFBLElBQUksRUFBRSxZQUZFOztBQUdSQyxJQUFBQSxNQUFNLENBQUNDLE1BQUQsRUFBd0I7QUFDNUIsWUFBTTtBQUFFQyxRQUFBQSxLQUFGO0FBQVNDLFFBQUFBO0FBQVQsVUFBc0IsS0FBS0MsSUFBakM7QUFDQUgsTUFBQUEsTUFBTSxDQUFDSSxHQUFQLENBQVc7QUFDVEgsUUFBQUEsS0FBSyxFQUFFQSxLQUFLLENBQUNJLE9BQU4sQ0FBY0wsTUFBTSxDQUFDRyxJQUFQLENBQVlOLElBQTFCLE1BQW9DLENBQUMsQ0FEbkM7QUFFVEssUUFBQUEsUUFBUSxFQUFFQSxRQUFRLElBQUlGLE1BQU0sQ0FBQ0csSUFBUCxDQUFZRDtBQUZ6QixPQUFYO0FBSUQ7O0FBVE8sR0FIRTtBQWVaSSxFQUFBQSxLQUFLLEVBQUU7QUFDTEMsSUFBQUEsR0FBRyxFQUFFQyxNQURBO0FBRUxQLElBQUFBLEtBQUssRUFBRVEsS0FGRjtBQUdMUCxJQUFBQSxRQUFRLEVBQUVRO0FBSEwsR0FmSztBQXFCWkMsRUFBQUEsS0FBSyxFQUFFO0FBQ0xWLElBQUFBLEtBQUssQ0FBQ0EsS0FBRCxFQUFNO0FBQ1QsWUFBTVcsUUFBUSxHQUFHLEtBQUtDLGdCQUFMLENBQXNCLG1CQUF0QixDQUFqQjtBQUNBRCxNQUFBQSxRQUFRLENBQUNFLE9BQVQsQ0FBaUJDLEtBQUssSUFBRztBQUN2QkEsUUFBQUEsS0FBSyxDQUFDWCxHQUFOLENBQVU7QUFBRUgsVUFBQUEsS0FBSyxFQUFFQSxLQUFLLENBQUNJLE9BQU4sQ0FBY1UsS0FBSyxDQUFDWixJQUFOLENBQVdOLElBQXpCLE1BQW1DLENBQUM7QUFBN0MsU0FBVjtBQUNELE9BRkQ7QUFHRCxLQU5JOztBQVFMSyxJQUFBQSxRQUFRLENBQUNBLFFBQUQsRUFBa0I7QUFDeEIsWUFBTVUsUUFBUSxHQUFHLEtBQUtDLGdCQUFMLENBQXNCLG1CQUF0QixDQUFqQjtBQUNBRCxNQUFBQSxRQUFRLENBQUNFLE9BQVQsQ0FBaUJDLEtBQUssSUFBRztBQUN2QkEsUUFBQUEsS0FBSyxDQUFDWCxHQUFOLENBQVU7QUFBRUYsVUFBQUEsUUFBUSxFQUFFQSxRQUFRLElBQUlhLEtBQUssQ0FBQ1osSUFBTixDQUFXRDtBQUFuQyxTQUFWO0FBQ0QsT0FGRDtBQUdEOztBQWJJO0FBckJLLENBQUQsQ0FBYiIsImZpbGUiOiJjaGVja2JveC1ncm91cC9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNwdWlDb21wb25lbnQgfSBmcm9tICcuLi9jb21tb24vY29tcG9uZW50JztcclxuXHJcblNwdWlDb21wb25lbnQoe1xyXG4gIGZpZWxkOiB0cnVlLFxyXG5cclxuICByZWxhdGlvbjoge1xyXG4gICAgbmFtZTogJ2NoZWNrYm94JyxcclxuICAgIHR5cGU6ICdkZXNjZW5kYW50JyxcclxuICAgIGxpbmtlZCh0YXJnZXQ6IFdlYXBwLkNvbXBvbmVudCkge1xyXG4gICAgICBjb25zdCB7IHZhbHVlLCBkaXNhYmxlZCB9ID0gdGhpcy5kYXRhO1xyXG4gICAgICB0YXJnZXQuc2V0KHtcclxuICAgICAgICB2YWx1ZTogdmFsdWUuaW5kZXhPZih0YXJnZXQuZGF0YS5uYW1lKSAhPT0gLTEsXHJcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkIHx8IHRhcmdldC5kYXRhLmRpc2FibGVkXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHByb3BzOiB7XHJcbiAgICBtYXg6IE51bWJlcixcclxuICAgIHZhbHVlOiBBcnJheSxcclxuICAgIGRpc2FibGVkOiBCb29sZWFuXHJcbiAgfSxcclxuXHJcbiAgd2F0Y2g6IHtcclxuICAgIHZhbHVlKHZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5nZXRSZWxhdGlvbk5vZGVzKCcuLi9jaGVja2JveC9pbmRleCcpO1xyXG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgICBjaGlsZC5zZXQoeyB2YWx1ZTogdmFsdWUuaW5kZXhPZihjaGlsZC5kYXRhLm5hbWUpICE9PSAtMSB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGRpc2FibGVkKGRpc2FibGVkOiBib29sZWFuKSB7XHJcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5nZXRSZWxhdGlvbk5vZGVzKCcuLi9jaGVja2JveC9pbmRleCcpO1xyXG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgICBjaGlsZC5zZXQoeyBkaXNhYmxlZDogZGlzYWJsZWQgfHwgY2hpbGQuZGF0YS5kaXNhYmxlZCB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuIl19
