function isFunction(obj) {
  return typeof obj === 'function';
}

export default class Cropper {
  constructor(model) {
    /** canvas id */
    this.id = 'cropper';
    this.ctx = {};
    /** 画布宽度 */

    this.width = 750;
    /** 画布高度 */

    this.height = 750;
    /** 最大缩放倍数 */

    this.scale = 2.5;
    /** 裁剪目标图片url */

    this.imgSrc = '';
    /** 裁剪参数设置 */

    this.cut = {
      x: 0,
      y: 0,
      width: 750,
      height: 750
    };
    this.id = model.id;
    this.width = model.width;
    this.height = model.height;
    this.imgSrc = model.imgSrc;

    if (model.onReady) {
      this.onReady = model.onReady;
    }

    if (model.onBeforeImageLoad) {
      this.onBeforeImageLoad = model.onBeforeImageLoad;
    }

    if (model.onImageLoad) {
      this.onImageLoad = model.onImageLoad;
    }

    if (model.onBeforeDraw) {
      this.onBeforeDraw = model.onBeforeDraw;
    }

    this.createCtx();
  }

  createCtx() {// if (this.id) {
    //   this.ctx = wx.createCanvasContext(this.id)
    // } else {
    //   console.error('constructor: create canvas context failed, \'id\' must be valuable')
    // }
  }

  init() {
    if (this.onReady && isFunction(this.onReady)) {
      this.onReady(this);
    }
  }

}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9saWJzL2Nyb3BwZXIudHMiXSwibmFtZXMiOlsiaXNGdW5jdGlvbiIsIm9iaiIsIkNyb3BwZXIiLCJjb25zdHJ1Y3RvciIsIm1vZGVsIiwiaWQiLCJjdHgiLCJ3aWR0aCIsImhlaWdodCIsInNjYWxlIiwiaW1nU3JjIiwiY3V0IiwieCIsInkiLCJvblJlYWR5Iiwib25CZWZvcmVJbWFnZUxvYWQiLCJvbkltYWdlTG9hZCIsIm9uQmVmb3JlRHJhdyIsImNyZWF0ZUN0eCIsImluaXQiXSwibWFwcGluZ3MiOiJBQW9CQSxTQUFTQSxVQUFULENBQW9CQyxHQUFwQixFQUE0QjtBQUMxQixTQUFPLE9BQU9BLEdBQVAsS0FBZSxVQUF0QjtBQUNEOztBQUNELGVBQWMsTUFBT0MsT0FBUCxDQUFjO0FBNEIxQkMsRUFBQUEsV0FBQSxDQUFZQyxLQUFaLEVBQTBCO0FBM0IxQjtBQUNBLFNBQUFDLEVBQUEsR0FBYSxTQUFiO0FBQ0EsU0FBQUMsR0FBQSxHQUFXLEVBQVg7QUFDQTs7QUFDQSxTQUFBQyxLQUFBLEdBQWdCLEdBQWhCO0FBQ0E7O0FBQ0EsU0FBQUMsTUFBQSxHQUFpQixHQUFqQjtBQUNBOztBQUNBLFNBQUFDLEtBQUEsR0FBZ0IsR0FBaEI7QUFDQTs7QUFDQSxTQUFBQyxNQUFBLEdBQWlCLEVBQWpCO0FBQ0E7O0FBQ0EsU0FBQUMsR0FBQSxHQUFrQjtBQUNoQkMsTUFBQUEsQ0FBQyxFQUFFLENBRGE7QUFFaEJDLE1BQUFBLENBQUMsRUFBRSxDQUZhO0FBR2hCTixNQUFBQSxLQUFLLEVBQUUsR0FIUztBQUloQkMsTUFBQUEsTUFBTSxFQUFFO0FBSlEsS0FBbEI7QUFnQkUsU0FBS0gsRUFBTCxHQUFVRCxLQUFLLENBQUNDLEVBQWhCO0FBQ0EsU0FBS0UsS0FBTCxHQUFhSCxLQUFLLENBQUNHLEtBQW5CO0FBQ0EsU0FBS0MsTUFBTCxHQUFjSixLQUFLLENBQUNJLE1BQXBCO0FBQ0EsU0FBS0UsTUFBTCxHQUFjTixLQUFLLENBQUNNLE1BQXBCOztBQUNBLFFBQUlOLEtBQUssQ0FBQ1UsT0FBVixFQUFtQjtBQUNqQixXQUFLQSxPQUFMLEdBQWVWLEtBQUssQ0FBQ1UsT0FBckI7QUFDRDs7QUFDRCxRQUFJVixLQUFLLENBQUNXLGlCQUFWLEVBQTZCO0FBQzNCLFdBQUtBLGlCQUFMLEdBQXlCWCxLQUFLLENBQUNXLGlCQUEvQjtBQUNEOztBQUNELFFBQUlYLEtBQUssQ0FBQ1ksV0FBVixFQUF1QjtBQUNyQixXQUFLQSxXQUFMLEdBQW1CWixLQUFLLENBQUNZLFdBQXpCO0FBQ0Q7O0FBQ0QsUUFBSVosS0FBSyxDQUFDYSxZQUFWLEVBQXdCO0FBQ3RCLFdBQUtBLFlBQUwsR0FBb0JiLEtBQUssQ0FBQ2EsWUFBMUI7QUFDRDs7QUFFRCxTQUFLQyxTQUFMO0FBQ0Q7O0FBQ0RBLEVBQUFBLFNBQVMsR0FBQSxDQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRDs7QUFDREMsRUFBQUEsSUFBSSxHQUFBO0FBQ0YsUUFBSSxLQUFLTCxPQUFMLElBQWdCZCxVQUFVLENBQUMsS0FBS2MsT0FBTixDQUE5QixFQUE4QztBQUM1QyxXQUFLQSxPQUFMLENBQWEsSUFBYjtBQUNEO0FBQ0Y7O0FBM0R5QiIsImZpbGUiOiJjb21tb24vbGlicy9jcm9wcGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW50ZXJmYWNlIENyb3BwZXJDdXQge1xyXG4gIC8qKiDoo4HliarliJ3lp4vlnZDmoId4ICovXHJcbiAgeDogbnVtYmVyXHJcbiAgLyoqIOijgeWJquWIneWni+WdkOagh3kgKi9cclxuICB5OiBudW1iZXJcclxuICAvKiog6KOB5Ymq5a695bqmICovXHJcbiAgd2lkdGg6IG51bWJlclxyXG4gIC8qKiDoo4Hliarpq5jluqYgKi9cclxuICBoZWlnaHQ6IG51bWJlclxyXG59XHJcbmludGVyZmFjZSBDcm9wcGVyRHJhdyB7XHJcbiAgLyoqIOijgeWJquWIneWni+WdkOagh3ggKi9cclxuICB4OiBudW1iZXJcclxuICAvKiog6KOB5Ymq5Yid5aeL5Z2Q5qCHeSAqL1xyXG4gIHk6IG51bWJlclxyXG4gIC8qKiDoo4Hliarlrr3luqYgKi9cclxuICB3aWR0aDogbnVtYmVyXHJcbiAgLyoqIOijgeWJqumrmOW6piAqL1xyXG4gIGhlaWdodDogbnVtYmVyXHJcbn1cclxuZnVuY3Rpb24gaXNGdW5jdGlvbihvYmo6IGFueSkge1xyXG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3JvcHBlciB7XHJcbiAgLyoqIGNhbnZhcyBpZCAqL1xyXG4gIGlkOiBzdHJpbmcgPSAnY3JvcHBlcidcclxuICBjdHg6IGFueSA9IHt9XHJcbiAgLyoqIOeUu+W4g+WuveW6piAqL1xyXG4gIHdpZHRoOiBudW1iZXIgPSA3NTBcclxuICAvKiog55S75biD6auY5bqmICovXHJcbiAgaGVpZ2h0OiBudW1iZXIgPSA3NTBcclxuICAvKiog5pyA5aSn57yp5pS+5YCN5pWwICovXHJcbiAgc2NhbGU6IG51bWJlciA9IDIuNVxyXG4gIC8qKiDoo4Hliarnm67moIflm77niYd1cmwgKi9cclxuICBpbWdTcmM6IHN0cmluZyA9ICcnXHJcbiAgLyoqIOijgeWJquWPguaVsOiuvue9riAqL1xyXG4gIGN1dDogQ3JvcHBlckN1dCA9IHtcclxuICAgIHg6IDAsXHJcbiAgICB5OiAwLFxyXG4gICAgd2lkdGg6IDc1MCxcclxuICAgIGhlaWdodDogNzUwXHJcbiAgfVxyXG4gIC8qKiDliJvlu7rlrp7kvovml7bop6blj5EgKi9cclxuICBvblJlYWR5PzogKHNlbGY6IENyb3BwZXIpID0+IHZvaWRcclxuICAvKiog5Zu+54mH5Yqg6L295YmN6Kem5Y+RIOWPr+WcqOatpOWKoGxvYWRpbmcgKi9cclxuICBvbkJlZm9yZUltYWdlTG9hZD86IChzZWxmOiBDcm9wcGVyKSA9PiB2b2lkXHJcbiAgLyoqIOWbvueJh+WKoOi9veWQjuinpuWPkSAqL1xyXG4gIG9uSW1hZ2VMb2FkPzogKHNlbGY6IENyb3BwZXIpID0+IHZvaWRcclxuICAvKiog57uY5Yi25Zu+54mH5YmN6Kem5Y+RICovXHJcbiAgb25CZWZvcmVEcmF3PzogKHNlbGY6IENyb3BwZXIpID0+IHZvaWRcclxuXHJcbiAgY29uc3RydWN0b3IobW9kZWw6IENyb3BwZXIpIHtcclxuICAgIHRoaXMuaWQgPSBtb2RlbC5pZFxyXG4gICAgdGhpcy53aWR0aCA9IG1vZGVsLndpZHRoXHJcbiAgICB0aGlzLmhlaWdodCA9IG1vZGVsLmhlaWdodFxyXG4gICAgdGhpcy5pbWdTcmMgPSBtb2RlbC5pbWdTcmNcclxuICAgIGlmIChtb2RlbC5vblJlYWR5KSB7XHJcbiAgICAgIHRoaXMub25SZWFkeSA9IG1vZGVsLm9uUmVhZHlcclxuICAgIH1cclxuICAgIGlmIChtb2RlbC5vbkJlZm9yZUltYWdlTG9hZCkge1xyXG4gICAgICB0aGlzLm9uQmVmb3JlSW1hZ2VMb2FkID0gbW9kZWwub25CZWZvcmVJbWFnZUxvYWRcclxuICAgIH1cclxuICAgIGlmIChtb2RlbC5vbkltYWdlTG9hZCkge1xyXG4gICAgICB0aGlzLm9uSW1hZ2VMb2FkID0gbW9kZWwub25JbWFnZUxvYWRcclxuICAgIH1cclxuICAgIGlmIChtb2RlbC5vbkJlZm9yZURyYXcpIHtcclxuICAgICAgdGhpcy5vbkJlZm9yZURyYXcgPSBtb2RlbC5vbkJlZm9yZURyYXdcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNyZWF0ZUN0eCgpXHJcbiAgfVxyXG4gIGNyZWF0ZUN0eCgpIHtcclxuICAgIC8vIGlmICh0aGlzLmlkKSB7XHJcbiAgICAvLyAgIHRoaXMuY3R4ID0gd3guY3JlYXRlQ2FudmFzQ29udGV4dCh0aGlzLmlkKVxyXG4gICAgLy8gfSBlbHNlIHtcclxuICAgIC8vICAgY29uc29sZS5lcnJvcignY29uc3RydWN0b3I6IGNyZWF0ZSBjYW52YXMgY29udGV4dCBmYWlsZWQsIFxcJ2lkXFwnIG11c3QgYmUgdmFsdWFibGUnKVxyXG4gICAgLy8gfVxyXG4gIH1cclxuICBpbml0KCkge1xyXG4gICAgaWYgKHRoaXMub25SZWFkeSAmJiBpc0Z1bmN0aW9uKHRoaXMub25SZWFkeSkpIHtcclxuICAgICAgdGhpcy5vblJlYWR5KHRoaXMpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ==
