let isIPhoneX = null;

function getIsIPhoneX() {
  return new Promise((resolve, reject) => {
    if (isIPhoneX !== null) {
      resolve(isIPhoneX);
    } else {
      wx.getSystemInfo({
        success: ({
          model,
          screenHeight
        }) => {
          const iphoneX = /iphone x/i.test(model);
          const iphoneNew = /iPhone11/i.test(model) && screenHeight === 812;
          isIPhoneX = iphoneX || iphoneNew;
          resolve(isIPhoneX);
        },
        fail: reject
      });
    }
  });
}

export const iphonex = Behavior({
  properties: {
    safeAreaInsetBottom: {
      type: Boolean,
      value: true
    }
  },

  created() {
    getIsIPhoneX().then(isIPhoneX => {
      this.set({
        isIPhoneX
      });
    });
  }

});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1peGlucy9pcGhvbmV4LnRzIl0sIm5hbWVzIjpbImlzSVBob25lWCIsImdldElzSVBob25lWCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwid3giLCJnZXRTeXN0ZW1JbmZvIiwic3VjY2VzcyIsIm1vZGVsIiwic2NyZWVuSGVpZ2h0IiwiaXBob25lWCIsInRlc3QiLCJpcGhvbmVOZXciLCJmYWlsIiwiaXBob25leCIsIkJlaGF2aW9yIiwicHJvcGVydGllcyIsInNhZmVBcmVhSW5zZXRCb3R0b20iLCJ0eXBlIiwiQm9vbGVhbiIsInZhbHVlIiwiY3JlYXRlZCIsInRoZW4iLCJzZXQiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLFNBQVMsR0FBRyxJQUFoQjs7QUFFQSxTQUFTQyxZQUFULEdBQXFCO0FBQ25CLFNBQU8sSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFvQjtBQUNyQyxRQUFJSixTQUFTLEtBQUssSUFBbEIsRUFBd0I7QUFDdEJHLE1BQUFBLE9BQU8sQ0FBQ0gsU0FBRCxDQUFQO0FBQ0QsS0FGRCxNQUVPO0FBQ0xLLE1BQUFBLEVBQUUsQ0FBQ0MsYUFBSCxDQUFpQjtBQUNmQyxRQUFBQSxPQUFPLEVBQUUsQ0FBQztBQUFFQyxVQUFBQSxLQUFGO0FBQVNDLFVBQUFBO0FBQVQsU0FBRCxLQUE0QjtBQUNuQyxnQkFBTUMsT0FBTyxHQUFHLFlBQVlDLElBQVosQ0FBaUJILEtBQWpCLENBQWhCO0FBQ0EsZ0JBQU1JLFNBQVMsR0FBRyxZQUFZRCxJQUFaLENBQWlCSCxLQUFqQixLQUEyQkMsWUFBWSxLQUFLLEdBQTlEO0FBQ0FULFVBQUFBLFNBQVMsR0FBR1UsT0FBTyxJQUFJRSxTQUF2QjtBQUNBVCxVQUFBQSxPQUFPLENBQUNILFNBQUQsQ0FBUDtBQUNELFNBTmM7QUFPZmEsUUFBQUEsSUFBSSxFQUFFVDtBQVBTLE9BQWpCO0FBU0Q7QUFDRixHQWRNLENBQVA7QUFlRDs7QUFFRCxPQUFPLE1BQU1VLE9BQU8sR0FBR0MsUUFBUSxDQUFDO0FBQzlCQyxFQUFBQSxVQUFVLEVBQUU7QUFDVkMsSUFBQUEsbUJBQW1CLEVBQUU7QUFDbkJDLE1BQUFBLElBQUksRUFBRUMsT0FEYTtBQUVuQkMsTUFBQUEsS0FBSyxFQUFFO0FBRlk7QUFEWCxHQURrQjs7QUFROUJDLEVBQUFBLE9BQU8sR0FBQTtBQUNMcEIsSUFBQUEsWUFBWSxHQUFHcUIsSUFBZixDQUFvQnRCLFNBQVMsSUFBRztBQUM5QixXQUFLdUIsR0FBTCxDQUFTO0FBQUV2QixRQUFBQTtBQUFGLE9BQVQ7QUFDRCxLQUZEO0FBR0Q7O0FBWjZCLENBQUQsQ0FBeEIiLCJmaWxlIjoibWl4aW5zL2lwaG9uZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgaXNJUGhvbmVYID0gbnVsbDtcclxuXHJcbmZ1bmN0aW9uIGdldElzSVBob25lWCgpIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgaWYgKGlzSVBob25lWCAhPT0gbnVsbCkge1xyXG4gICAgICByZXNvbHZlKGlzSVBob25lWCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3eC5nZXRTeXN0ZW1JbmZvKHtcclxuICAgICAgICBzdWNjZXNzOiAoeyBtb2RlbCwgc2NyZWVuSGVpZ2h0IH0pID0+IHtcclxuICAgICAgICAgIGNvbnN0IGlwaG9uZVggPSAvaXBob25lIHgvaS50ZXN0KG1vZGVsKTtcclxuICAgICAgICAgIGNvbnN0IGlwaG9uZU5ldyA9IC9pUGhvbmUxMS9pLnRlc3QobW9kZWwpICYmIHNjcmVlbkhlaWdodCA9PT0gODEyO1xyXG4gICAgICAgICAgaXNJUGhvbmVYID0gaXBob25lWCB8fCBpcGhvbmVOZXc7XHJcbiAgICAgICAgICByZXNvbHZlKGlzSVBob25lWCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmYWlsOiByZWplY3RcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBpcGhvbmV4ID0gQmVoYXZpb3Ioe1xyXG4gIHByb3BlcnRpZXM6IHtcclxuICAgIHNhZmVBcmVhSW5zZXRCb3R0b206IHtcclxuICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgICAgdmFsdWU6IHRydWVcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBjcmVhdGVkKCkge1xyXG4gICAgZ2V0SXNJUGhvbmVYKCkudGhlbihpc0lQaG9uZVggPT4ge1xyXG4gICAgICB0aGlzLnNldCh7IGlzSVBob25lWCB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcbiJdfQ==
